import{t as ce,a as x,b as G}from"../chunks/Dqht5w_I.js";import{o as yt,t as C,v as _t,I as Mt,B as M,A as w,z as v,w as V,x as gt,y as t,J as wt,$ as Pt,C as m,D as Tt,F as kt}from"../chunks/p36N7C4D.js";import{d as qt,h as St,s as Y}from"../chunks/DZw39atF.js";import{i as R}from"../chunks/BFlFReWa.js";import{e as xt,s as Ae,i as Lt}from"../chunks/Cifj1Jul.js";import{s as Je}from"../chunks/vYU-8VYL.js";import{s as Ue}from"../chunks/eLZ9zutM.js";import{b as He}from"../chunks/CJ2niMAg.js";import{o as Dt}from"../chunks/3WYckkoF.js";function It(B,P,b){t(P)&&b(B)}function At(B,P,b,Z){t(P)!==null&&(v(b,t(b).filter(ue=>ue.id!==t(P)),!0),v(P,null),Z())}function Ct(B,P,b,Z){v(P,[],!0),v(b,null),v(Z,1)}function jt(B,P){v(P,!t(P))}var Rt=(B,P,b)=>{v(P,1),v(b,null)},Wt=(B,P,b)=>{v(P,2),v(b,null)},Gt=(B,P)=>v(P,!t(P)),Bt=(B,P,b)=>P(B,t(b)),Et=ce('<button class="palette-item svelte-1qv319f"><div class="palette-preview svelte-1qv319f"><!></div> <span class="palette-label svelte-1qv319f"> </span></button>'),Ft=ce('<div class="info-row svelte-1qv319f"><span class="info-label svelte-1qv319f">Ratio:</span> <span class="info-value svelte-1qv319f"> </span></div>'),Ot=ce('<div class="info-row axle-info svelte-1qv319f"><span class="info-label svelte-1qv319f">Axle:</span> <span class="info-value svelte-1qv319f"> </span></div>'),Xt=ce('<div class="info-panel svelte-1qv319f"><div class="info-title svelte-1qv319f"><!></div> <div class="info-row svelte-1qv319f"><span class="info-label svelte-1qv319f">Teeth:</span> <span class="info-value svelte-1qv319f"> </span></div> <div class="info-row svelte-1qv319f"><span class="info-label svelte-1qv319f">Level:</span> <span class="info-value svelte-1qv319f"> </span></div> <div class="info-row svelte-1qv319f"><span class="info-label svelte-1qv319f">RPM:</span> <span class="info-value svelte-1qv319f"> </span></div> <div class="info-row svelte-1qv319f"><span class="info-label svelte-1qv319f">Direction:</span> <span class="info-value svelte-1qv319f"><!></span></div> <!> <!></div>'),Yt=ce('<div><div class="header svelte-1qv319f"><h1 class="svelte-1qv319f">Gear Train Simulator</h1> <div class="controls svelte-1qv319f"><button class="ctrl-btn svelte-1qv319f"> </button> <button title="Switch to Level 1">L1</button> <button title="Switch to Level 2">L2</button> <button class="ctrl-btn svelte-1qv319f" title="Delete selected">üóëÔ∏è</button> <button class="ctrl-btn svelte-1qv319f" title="Clear all">Clear</button> <button class="ctrl-btn svelte-1qv319f"> </button></div></div> <div class="palette svelte-1qv319f"></div> <div class="canvas-container svelte-1qv319f"><canvas class="svelte-1qv319f"></canvas></div> <!> <div class="instructions svelte-1qv319f">Drag components onto the canvas. Gears snap together! Use L1/L2 to switch levels. Drag a gear near a gear on the other level to axle-link them.</div> <div class="back-link svelte-1qv319f"><a href="/" class="svelte-1qv319f">Back to Home</a></div></div>');function Zt(B,P){yt(P,!0);const b=5,Z=60,ue=15,Ke=15,Qe=[{type:"motor",teeth:12,label:"Motor",color:"#e74c3c"},{type:"slow-motor",teeth:48,label:"Giant Motor",color:"#c0392b"},{type:"sheep",teeth:12,label:"Sheep",color:"#f5f0e1"},{type:"gear",teeth:12,label:"12T",color:"#2ecc71"},{type:"gear",teeth:16,label:"16T",color:"#27ae60"},{type:"gear",teeth:20,label:"20T",color:"#3498db"},{type:"gear",teeth:24,label:"24T",color:"#2980b9"},{type:"gear",teeth:32,label:"32T",color:"#e67e22"},{type:"gear",teeth:38,label:"38T",color:"#1abc9c"},{type:"gear",teeth:48,label:"48T",color:"#9b59b6"},{type:"flywheel",teeth:60,label:"Flywheel",color:"#7f8c8d"}];function k(e){return e*b/2}function Ce(e){return e==="motor"||e==="sheep"||e==="slow-motor"}function Ve(e){return e==="slow-motor"?ue:Z}let L=C(void 0),h=C(_t([])),je=C(1),O=C(null),ne=C(!0),W=C(!0),q=C(1),me=0,ve=0,J=C(!1),g=C(null),D=C(null),le=0,oe=0,z=C(0),N=C(0),de=C(void 0),E=C(800),F=C(500),T=Tt(()=>t(h).find(e=>e.id===t(O))??null);function Ze(e,n){return k(e.teeth)+k(n.teeth)}function et(e,n){const a=e.x-n.x,s=e.y-n.y;return Math.sqrt(a*a+s*s)}function be(e,n){if(e.level!==n.level)return!1;const a=Ze(e,n),s=et(e,n);return Math.abs(s-a)<3}function ye(e,n){if(e.level===n.level)return!1;const a=e.x-n.x,s=e.y-n.y;return Math.sqrt(a*a+s*s)<3}function _e(e,n,a,s,o){let r=null,l=1/0;for(const i of t(h)){if(i.id===s||i.level!==o)continue;const p=k(e.teeth)+k(i.teeth),c=n-i.x,f=a-i.y,d=Math.sqrt(c*c+f*f);if(Math.abs(d-p)<Ke+p*.3){const u=k(e.teeth)+k(i.teeth);if(d<u*.5)continue;const y=Math.abs(d-p);if(y<l){l=y;const I=Math.atan2(f,c);r={x:i.x+Math.cos(I)*p,y:i.y+Math.sin(I)*p,snapTo:i}}}}return r}function Me(e,n,a,s){let r=null,l=1/0;for(const i of t(h)){if(i.id===a||i.level===s)continue;const p=e-i.x,c=n-i.y,f=Math.sqrt(p*p+c*c);f<25&&f<l&&(l=f,r=i)}return r}function Re(e,n,a,s,o){const r=k(e);for(const l of t(h)){if(l.id===s||l.level!==o)continue;const i=k(l.teeth),p=n-l.x,c=a-l.y,f=Math.sqrt(p*p+c*c),d=(r+i)*.8,u=r+i;if(f<d&&Math.abs(f-u)>3)return!0}return!1}function ge(){for(const o of t(h))o.rpm=0,o.direction=0,o.jammed=!1;const e=new Map;for(const o of t(h))e.set(o.id,[]);for(let o=0;o<t(h).length;o++)for(let r=o+1;r<t(h).length;r++)be(t(h)[o],t(h)[r])?(e.get(t(h)[o].id).push({id:t(h)[r].id,type:"mesh"}),e.get(t(h)[r].id).push({id:t(h)[o].id,type:"mesh"})):ye(t(h)[o],t(h)[r])&&(e.get(t(h)[o].id).push({id:t(h)[r].id,type:"axle"}),e.get(t(h)[r].id).push({id:t(h)[o].id,type:"axle"}));const n=t(h).filter(o=>Ce(o.type)),a=new Set,s=new Map;for(const o of t(h))s.set(o.id,o);for(const o of n){if(a.has(o.id))continue;o.rpm=Ve(o.type),o.direction=1;const r=[o.id];for(a.add(o.id);r.length>0;){const l=r.shift(),i=s.get(l);for(const p of e.get(l)){const c=s.get(p.id);let f,d;if(p.type==="mesh"?(f=-i.direction,d=i.rpm*i.teeth/c.teeth):(f=i.direction,d=i.rpm),a.has(p.id)){c.direction!==f&&tt(o.id,e,s);continue}c.direction=f,c.rpm=d,a.add(p.id),r.push(p.id)}}}}function tt(e,n,a){const s=new Set,o=[e];for(s.add(e);o.length>0;){const r=o.shift(),l=a.get(r);l.jammed=!0,l.rpm=0,l.direction=0;for(const i of n.get(r))s.has(i.id)||(s.add(i.id),o.push(i.id))}}function we(e,n,a,s=1){const o=k(n.teeth),r=o+b*.8,l=o-b*.8,i=n.teeth;if(e.save(),e.globalAlpha=s,e.translate(n.x,n.y),e.rotate(n.angle),Math.abs(n.rpm)>100&&!n.jammed&&s>.5){const c=Math.min((Math.abs(n.rpm)-100)/200,1);e.shadowColor=n.color,e.shadowBlur=15+c*20}e.beginPath();for(let c=0;c<i;c++){const f=c/i*Math.PI*2,d=(c+.15)/i*Math.PI*2,u=(c+.35)/i*Math.PI*2,y=(c+.5)/i*Math.PI*2,I=(c+.65)/i*Math.PI*2,X=(c+.85)/i*Math.PI*2;c===0&&e.moveTo(Math.cos(f)*l,Math.sin(f)*l),e.lineTo(Math.cos(d)*l,Math.sin(d)*l),e.lineTo(Math.cos(u)*r,Math.sin(u)*r),e.lineTo(Math.cos(y)*r,Math.sin(y)*r),e.lineTo(Math.cos(I)*r,Math.sin(I)*r),e.lineTo(Math.cos(X)*l,Math.sin(X)*l);const U=(c+1)/i*Math.PI*2;e.lineTo(Math.cos(U)*l,Math.sin(U)*l)}e.closePath();const p=n.jammed?"#555":n.color;if(e.fillStyle=p,e.fill(),e.strokeStyle=n.jammed?"#333":ae(n.color,.3),e.lineWidth=2,e.stroke(),e.shadowBlur=0,e.beginPath(),e.arc(0,0,Math.max(o*.25,8),0,Math.PI*2),e.fillStyle=n.jammed?"#444":ae(n.color,.2),e.fill(),e.strokeStyle=n.jammed?"#333":ae(n.color,.4),e.lineWidth=2,e.stroke(),e.beginPath(),e.arc(0,0,Math.max(o*.08,3),0,Math.PI*2),e.fillStyle=t(W)?"#1a1a3e":"#ccc",e.fill(),n.type==="motor"&&!n.jammed&&(e.fillStyle="#fff",e.font=`bold ${Math.max(o*.35,10)}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText("‚ö°",0,0)),n.type==="slow-motor"&&!n.jammed&&(e.fillStyle="#fff",e.font=`bold ${Math.max(o*.25,10)}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText("‚ö°",0,-o*.08),e.font=`${Math.max(o*.12,7)}px sans-serif`,e.fillText("SLOW",0,o*.12)),n.type==="sheep"&&!n.jammed&&(e.fillStyle="#333",e.font=`${Math.max(o*.5,12)}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText("üêë",0,1)),n.type==="flywheel"){e.beginPath(),e.arc(0,0,o-b*.2,0,Math.PI*2),e.strokeStyle=n.jammed?"#333":ae(n.color,.4),e.lineWidth=b*1.5,e.stroke();const c=6,f=Math.max(o*.25,8),d=o-b*1;e.strokeStyle=n.jammed?"#444":ae(n.color,.15),e.lineWidth=3;for(let u=0;u<c;u++){const y=u/c*Math.PI*2;e.beginPath(),e.moveTo(Math.cos(y)*f,Math.sin(y)*f),e.lineTo(Math.cos(y)*d,Math.sin(y)*d),e.stroke()}n.jammed||(e.fillStyle="#fff",e.font=`bold ${Math.max(o*.13,8)}px sans-serif`,e.textAlign="center",e.textBaseline="middle",e.fillText("FW",0,0))}if(e.restore(),a&&(e.save(),e.globalAlpha=s,e.translate(n.x,n.y),e.beginPath(),e.arc(0,0,r+6,0,Math.PI*2),e.strokeStyle="#f1c40f",e.lineWidth=3,e.setLineDash([6,4]),e.stroke(),e.setLineDash([]),e.restore()),n.direction!==0&&!n.jammed&&t(ne)&&s>.5){e.save(),e.globalAlpha=s,e.translate(n.x,n.y);const c=r+12,f=n.angle+(n.direction>0?0:Math.PI);e.beginPath(),e.arc(0,0,c,f-.3,f+.3),e.strokeStyle=t(W)?"rgba(255,255,255,0.4)":"rgba(0,0,0,0.3)",e.lineWidth=2,e.stroke();const d=Math.cos(f+.3*n.direction)*c,u=Math.sin(f+.3*n.direction)*c;e.beginPath(),e.moveTo(d,u);const y=f+.3*n.direction+Math.PI/2*n.direction;e.lineTo(d+Math.cos(y)*6,u+Math.sin(y)*6),e.lineTo(d+Math.cos(f+.3*n.direction)*8,u+Math.sin(f+.3*n.direction)*8),e.fillStyle=t(W)?"rgba(255,255,255,0.4)":"rgba(0,0,0,0.3)",e.fill(),e.restore()}}function ae(e,n){const a=parseInt(e.slice(1,3),16),s=parseInt(e.slice(3,5),16),o=parseInt(e.slice(5,7),16);return`rgb(${Math.round(a*(1-n))}, ${Math.round(s*(1-n))}, ${Math.round(o*(1-n))})`}function nt(){if(!t(L))return;const e=t(L).getContext("2d");if(!e)return;const n=window.devicePixelRatio||1;e.setTransform(n,0,0,n,0,0),e.clearRect(0,0,t(E),t(F)),e.strokeStyle=t(W)?"rgba(255,255,255,0.04)":"rgba(0,0,0,0.06)",e.lineWidth=1;const a=40;for(let l=0;l<t(E);l+=a)e.beginPath(),e.moveTo(l,0),e.lineTo(l,t(F)),e.stroke();for(let l=0;l<t(F);l+=a)e.beginPath(),e.moveTo(0,l),e.lineTo(t(E),l),e.stroke();const s=t(q)===1?2:1,o=t(h).filter(l=>l.level===s),r=t(h).filter(l=>l.level===t(q));e.save(),e.filter="saturate(0.2)";for(let l=0;l<o.length;l++)for(let i=l+1;i<o.length;i++)be(o[l],o[i])&&(e.beginPath(),e.moveTo(o[l].x,o[l].y),e.lineTo(o[i].x,o[i].y),e.strokeStyle=o[l].jammed?"rgba(255,0,0,0.1)":t(W)?"rgba(255,255,255,0.06)":"rgba(0,0,0,0.04)",e.lineWidth=2,e.setLineDash([4,4]),e.stroke(),e.setLineDash([]));for(const l of o)we(e,l,!1,.25);e.restore();for(const l of r)for(const i of o)if(ye(l,i)){e.save(),e.beginPath();const p=Math.max(k(l.teeth),k(i.teeth))*.15;e.arc(l.x,l.y,p+4,0,Math.PI*2),e.strokeStyle="#f39c12",e.lineWidth=2,e.setLineDash([3,3]),e.stroke(),e.setLineDash([]),e.beginPath(),e.arc(l.x,l.y,3,0,Math.PI*2),e.fillStyle="#f39c12",e.fill(),e.restore()}for(let l=0;l<r.length;l++)for(let i=l+1;i<r.length;i++)be(r[l],r[i])&&(e.beginPath(),e.moveTo(r[l].x,r[l].y),e.lineTo(r[i].x,r[i].y),e.strokeStyle=r[l].jammed?"rgba(255,0,0,0.3)":t(W)?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.12)",e.lineWidth=2,e.setLineDash([4,4]),e.stroke(),e.setLineDash([]));for(const l of r)we(e,l,l.id===t(O));if(t(J)&&(t(g)||t(D))){const l=t(g)?t(g).teeth:t(D).teeth,i=t(g)?t(g).color:t(D).color,p=t(g)?t(g).type:t(D).type,c=t(g)?t(g).id:-1;let f=t(z),d=t(N);const u=Me(f,d,c,t(q)),y=_e({teeth:l},f,d,c,t(q));u?(f=u.x,d=u.y):y&&(f=y.x,d=y.y);const I={type:p,teeth:l,x:f,y:d,angle:0,rpm:0,direction:0,color:i,jammed:!1,level:t(q)};e.globalAlpha=.5,we(e,I,!1),e.globalAlpha=1,y&&!u&&(e.beginPath(),e.arc(f,d,k(l)+b+4,0,Math.PI*2),e.strokeStyle="#f1c40f",e.lineWidth=2,e.setLineDash([4,4]),e.stroke(),e.setLineDash([])),u&&(e.beginPath(),e.arc(f,d,k(l)+b+4,0,Math.PI*2),e.strokeStyle="#f39c12",e.lineWidth=3,e.setLineDash([6,3]),e.stroke(),e.setLineDash([]),e.fillStyle="#f39c12",e.font="bold 12px sans-serif",e.textAlign="center",e.textBaseline="bottom",e.fillText("AXLE LINK",f,d-k(l)-b-10))}e.save(),e.fillStyle=t(W)?"rgba(255,255,255,0.3)":"rgba(0,0,0,0.2)",e.font="bold 13px sans-serif",e.textAlign="left",e.textBaseline="top",e.fillText(`Level ${t(q)}`,10,10),e.fillStyle=t(W)?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.1)",e.font="11px sans-serif",e.fillText(`(Level ${s} shown faded)`,10,28),e.restore()}function We(e){ve||(ve=e);const n=(e-ve)/1e3;if(ve=e,t(ne)){for(const a of t(h))if(a.direction!==0&&!a.jammed){const s=a.rpm/60;a.angle+=a.direction*s*Math.PI*2*n}}nt(),me=requestAnimationFrame(We)}function Ge(e){if(!t(L))return{x:0,y:0};const n=t(L).getBoundingClientRect();return{x:(e.clientX-n.left)*(t(E)/n.width),y:(e.clientY-n.top)*(t(F)/n.height)}}function lt(e,n){for(let a=t(h).length-1;a>=0;a--){const s=t(h)[a];if(s.level!==t(q))continue;const o=k(s.teeth)+b,r=e-s.x,l=n-s.y;if(r*r+l*l<=o*o)return s}return null}function ot(e){var s;const n=Ge(e),a=lt(n.x,n.y);a?(e.preventDefault(),(s=t(L))==null||s.setPointerCapture(e.pointerId),v(J,!0),v(g,a,!0),v(D,null),le=n.x-a.x,oe=n.y-a.y,v(z,n.x-le),v(N,n.y-oe),v(O,a.id,!0)):v(O,null)}function at(e){if(!t(J))return;e.preventDefault();const n=Ge(e);t(g)?(v(z,n.x-le),v(N,n.y-oe)):t(D)&&(v(z,n.x,!0),v(N,n.y,!0))}function Be(e){if(t(J)){if(e.preventDefault(),t(g)){let n=t(z),a=t(N);const s=Me(n,a,t(g).id,t(q)),o=_e({teeth:t(g).teeth},n,a,t(g).id,t(q));s?(n=s.x,a=s.y):o&&(n=o.x,a=o.y),Re(t(g).teeth,n,a,t(g).id,t(q))||(t(g).x=n,t(g).y=a),ge()}else if(t(D)){let n=t(z),a=t(N);const s=Me(n,a,-1,t(q)),o=_e({teeth:t(D).teeth},n,a,-1,t(q));s?(n=s.x,a=s.y):o&&(n=o.x,a=o.y);const r=k(t(D).teeth);if(n>r&&n<t(E)-r&&a>r&&a<t(F)-r&&!Re(t(D).teeth,n,a,-1,t(q))){const l={id:wt(je),type:t(D).type,teeth:t(D).teeth,x:n,y:a,angle:0,rpm:0,direction:0,color:t(D).color,jammed:!1,label:t(D).label,level:t(q)};v(h,[...t(h),l],!0),v(O,l.id,!0),ge()}}v(J,!1),v(g,null),v(D,null)}}function st(e,n){var a;if(e.preventDefault(),(a=t(L))==null||a.setPointerCapture(e.pointerId),v(J,!0),v(D,n,!0),v(g,null),t(L)){const s=t(L).getBoundingClientRect();v(z,(e.clientX-s.left)*(t(E)/s.width)),v(N,(e.clientY-s.top)*(t(F)/s.height))}le=0,oe=0}function it(e){if(t(J)&&(e.preventDefault(),t(L))){const n=t(L).getBoundingClientRect(),a=(e.clientX-n.left)*(t(E)/n.width),s=(e.clientY-n.top)*(t(F)/n.height);t(g)?(v(z,a-le),v(N,s-oe)):(v(z,a),v(N,s))}}function Ee(){if(!t(de))return;const e=t(de).getBoundingClientRect();v(E,e.width,!0),v(F,Math.max(e.height,300),!0)}function Pe(){if(!t(L))return;const e=window.devicePixelRatio||1;t(L).width=t(E)*e,t(L).height=t(F)*e}Mt(()=>{t(L)&&t(E)&&t(F)&&Pe()}),Dt(()=>{Ee(),Pe(),me=requestAnimationFrame(We);const e=()=>{Ee(),Pe()};return window.addEventListener("resize",e),()=>{cancelAnimationFrame(me),window.removeEventListener("resize",e)}});var ee=Yt();St(e=>{Pt.title="Gear Train Simulator"});let Fe;ee.__pointermove=it,ee.__pointerup=[It,J,Be];var Te=M(ee),Oe=w(M(Te),2),se=M(Oe);se.__click=[jt,ne];var rt=M(se,!0);m(se);var ke=w(se,2);let Xe;ke.__click=[Rt,q,O];var qe=w(ke,2);let Ye;qe.__click=[Wt,q,O];var Se=w(qe,2);Se.__click=[At,O,h,ge];var ze=w(Se,2);ze.__click=[Ct,h,O,je];var he=w(ze,2);he.__click=[Gt,W];var ft=M(he,!0);m(he),m(Oe),m(Te);var xe=w(Te,2);xt(xe,21,()=>Qe,Lt,(e,n)=>{var a=Et();a.__pointerdown=[Bt,st,n];var s=M(a);let o;var r=M(s);{var l=f=>{var d=G("‚ö°");x(f,d)},i=(f,d)=>{{var u=I=>{var X=G("‚ö°");x(I,X)},y=(I,X)=>{{var U=re=>{var Le=G("üêë");x(re,Le)};R(I,re=>{t(n).type==="sheep"&&re(U)},X)}};R(f,I=>{t(n).type==="slow-motor"?I(u):I(y,!1)},d)}};R(r,f=>{t(n).type==="motor"?f(l):f(i,!1)})}m(s);var p=w(s,2),c=M(p,!0);m(p),m(a),V((f,d)=>{o=Ue(s,"",o,{"background-color":t(n).color,width:`${f??""}px`,height:`${d??""}px`}),Y(c,t(n).label)},[()=>Math.max(k(t(n).teeth)*.8,16),()=>Math.max(k(t(n).teeth)*.8,16)]),x(e,a)}),m(xe);var pe=w(xe,2),ie=M(pe);ie.__pointerdown=ot,ie.__pointermove=at,ie.__pointerup=Be;let Ne;He(ie,e=>v(L,e),()=>t(L)),m(pe),He(pe,e=>v(de,e),()=>t(de));var ct=w(pe,2);{var vt=e=>{var n=Xt(),a=M(n),s=M(a);{var o=_=>{var S=G("Motor");x(_,S)},r=(_,S)=>{{var $=A=>{var K=G("Giant Motor ‚ö°");x(A,K)},H=(A,K)=>{{var De=j=>{var Q=G("Sheep Motor üêë");x(j,Q)},Ie=(j,Q)=>{{var mt=te=>{var fe=G();V(()=>Y(fe,`Flywheel (${t(T).teeth??""}T)`)),x(te,fe)},bt=te=>{var fe=G();V(()=>Y(fe,`Gear (${t(T).teeth??""}T)`)),x(te,fe)};R(j,te=>{t(T).type==="flywheel"?te(mt):te(bt,!1)},Q)}};R(A,j=>{t(T).type==="sheep"?j(De):j(Ie,!1)},K)}};R(_,A=>{t(T).type==="slow-motor"?A($):A(H,!1)},S)}};R(s,_=>{t(T).type==="motor"?_(o):_(r,!1)})}m(a);var l=w(a,2),i=w(M(l),2),p=M(i,!0);m(i),m(l);var c=w(l,2),f=w(M(c),2),d=M(f,!0);m(f),m(c);var u=w(c,2),y=w(M(u),2),I=M(y,!0);m(y),m(u);var X=w(u,2),U=w(M(X),2),re=M(U);{var Le=_=>{var S=G("Jammed");x(_,S)},dt=(_,S)=>{{var $=A=>{var K=G("Clockwise ‚Üª");x(A,K)},H=(A,K)=>{{var De=j=>{var Q=G("Counter-CW ‚Ü∫");x(j,Q)},Ie=j=>{var Q=G("Idle");x(j,Q)};R(A,j=>{t(T).direction===-1?j(De):j(Ie,!1)},K)}};R(_,A=>{t(T).direction===1?A($):A(H,!1)},S)}};R(re,_=>{t(T).jammed?_(Le):_(dt,!1)})}m(U),m(X);var $e=w(X,2);{var ht=_=>{var S=Ft(),$=w(M(S),2),H=M($);m($),m(S),V(A=>Y(H,`${A??""}x`),[()=>(t(T).rpm/Z).toFixed(2)]),x(_,S)};R($e,_=>{!Ce(t(T).type)&&t(T).rpm>0&&_(ht)})}var pt=w($e,2);{var ut=_=>{var S=Ot(),$=w(M(S),2),H=M($);m($),m(S),V(()=>Y(H,`Linked to L${t(T).level===1?2:1}`)),x(_,S)};R(pt,_=>{t(h).some(S=>S.id!==t(T).id&&ye(S,t(T)))&&_(ut)})}m(n),V(_=>{Y(p,t(T).teeth),Y(d,t(T).level),Y(I,_)},[()=>t(T).jammed?"JAMMED":Math.abs(t(T).rpm).toFixed(1)]),x(e,n)};R(ct,e=>{t(T)&&e(vt)})}kt(4),m(ee),V((e,n,a)=>{Fe=Ae(ee,1,"page-container svelte-1qv319f",null,Fe,e),Je(se,"title",t(ne)?"Pause":"Play"),Y(rt,t(ne)?"‚è∏":"‚ñ∂Ô∏è"),Xe=Ae(ke,1,"ctrl-btn level-btn svelte-1qv319f",null,Xe,n),Ye=Ae(qe,1,"ctrl-btn level-btn svelte-1qv319f",null,Ye,a),Se.disabled=t(O)===null,Je(he,"title",t(W)?"Light mode":"Dark mode"),Y(ft,t(W)?"‚òÄÔ∏è":"üåô"),Ne=Ue(ie,"",Ne,{width:`${t(E)??""}px`,height:`${t(F)??""}px`})},[()=>({light:!t(W)}),()=>({"level-active":t(q)===1}),()=>({"level-active":t(q)===2})]),x(B,ee),gt()}qt(["pointermove","pointerup","click","pointerdown"]);export{Zt as component};
