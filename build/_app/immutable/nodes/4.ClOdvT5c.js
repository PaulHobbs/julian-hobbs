import{t as T,a as A}from"../chunks/Dqht5w_I.js";import{Q as ge,u as ye,r as Me,h as Se,o as We,t as P,v as Ae,B as u,A as h,y as l,x as Te,z as w,$ as xe,C as v,F as se,w as I,D as He}from"../chunks/p36N7C4D.js";import{l as Ce,d as Oe,h as Ee,s as q}from"../chunks/DZw39atF.js";import{i as j}from"../chunks/BFlFReWa.js";import{e as te,i as re,s as Pe}from"../chunks/Cifj1Jul.js";import{r as ae}from"../chunks/vYU-8VYL.js";function oe(i,d,b=d){var g=ge();Ce(i,"input",k=>{var $=k?i.defaultValue:i.value;if($=L(i)?J($):$,b($),g&&$!==($=d())){var x=i.selectionStart,f=i.selectionEnd;i.value=$??"",f!==null&&(i.selectionStart=x,i.selectionEnd=Math.min(f,i.value.length))}}),(Se&&i.defaultValue!==i.value||ye(d)==null&&i.value)&&b(L(i)?J(i.value):i.value),Me(()=>{var k=d();L(i)&&k===J(i.value)||i.type==="date"&&!k&&!i.value||k!==i.value&&(i.value=k??"")})}function L(i){var d=i.type;return d==="number"||d==="range"}function J(i){return i===""?null:+i}function ne(i,d,b,g,k,$,x,f){const y=d(l(b));y&&(w(g,k(y),!0),w($,l(g).steps.map(()=>""),!0),w(x,!1),w(f,!0))}function qe(i,d){w(d,!0)}function De(i,d){i.key==="Enter"&&d()}var Ne=T('<li class="svelte-ksm4mr"> </li>'),je=T('<div class="results svelte-ksm4mr"><div class="card word-problem svelte-ksm4mr"><h2 class="svelte-ksm4mr">Word Problem</h2> <p class="story svelte-ksm4mr"> </p></div> <div class="card schema svelte-ksm4mr"><h2 class="svelte-ksm4mr">Schema</h2> <p class="schema-name svelte-ksm4mr"> </p> <p class="schema-desc svelte-ksm4mr"> </p></div> <div class="card work svelte-ksm4mr"><h2 class="svelte-ksm4mr">Show Your Work</h2> <ol class="steps svelte-ksm4mr"></ol></div> <div class="practice-prompt svelte-ksm4mr"><button class="practice-btn svelte-ksm4mr">Try a Similar Problem!</button></div></div>'),Ie=T('<span class="step-after svelte-ksm4mr"> </span>'),Re=T('<span class="feedback svelte-ksm4mr">Try again! Hint: re-read the problem.</span>'),Ve=T('<span class="feedback correct-feedback svelte-ksm4mr">Correct!</span>'),ze=T('<div><span class="step-label svelte-ksm4mr"> </span> <input type="text" class="blank-input svelte-ksm4mr" placeholder="?"> <!> <!> <!></div>'),Be=T('<p class="congrats svelte-ksm4mr">Great job! You got them all right!</p>'),Fe=T('<div class="results svelte-ksm4mr"><div class="card practice svelte-ksm4mr"><h2 class="svelte-ksm4mr">Your Turn!</h2> <p class="story svelte-ksm4mr"> </p> <h3 class="svelte-ksm4mr">Show your work — fill in the blanks:</h3> <div class="practice-steps svelte-ksm4mr"></div> <div class="check-row svelte-ksm4mr"><button class="check-btn svelte-ksm4mr">Check My Answers</button> <!></div> <button class="practice-btn svelte-ksm4mr" style="margin-top: 1rem;">Try Another One</button></div></div>'),Ye=T('<div class="calculator svelte-ksm4mr"><h1 class="svelte-ksm4mr">Math Word Problem Calculator</h1> <p class="subtitle svelte-ksm4mr">Enter an arithmetic problem and see it as a word problem!</p> <div class="input-section svelte-ksm4mr"><label for="expression" class="svelte-ksm4mr">Type a math problem:</label> <div class="input-row svelte-ksm4mr"><input id="expression" type="text" placeholder="e.g. 24 + 13, 50 - 18, 6 * 4, 20 / 5" class="svelte-ksm4mr"> <button class="solve-btn svelte-ksm4mr">Solve</button></div> <p class="hint svelte-ksm4mr">Use +, -, *, / (or ×, ÷)</p></div> <!> <!> <div class="back-link svelte-ksm4mr"><a href="/" class="svelte-ksm4mr">Back to Home</a></div></div>');function Xe(i,d){We(d,!0);const b=[{items:"apples",container:"basket",containers:"baskets",names:["Emma","Liam"]},{items:"marbles",container:"bag",containers:"bags",names:["Sofia","Noah"]},{items:"stickers",container:"pack",containers:"packs",names:["Julian","Maya"]},{items:"cookies",container:"jar",containers:"jars",names:["Olivia","Ethan"]}];let g=P(""),k=P(!1),$=P(null),x=P(!1),f=P(null),y=P(Ae([])),_=P(!1);function B(e){const s=e.trim().replace(/×/g,"*").replace(/÷/g,"/").replace(/x/gi,"*").match(/^(\d+(?:\.\d+)?)\s*([+\-*/])\s*(\d+(?:\.\d+)?)$/);if(!s)return null;const a=parseFloat(s[1]),c=s[2],n=parseFloat(s[3]);let t;switch(c){case"+":t=a+n;break;case"-":t=a-n;break;case"*":t=a*n;break;case"/":t=n!==0?a/n:NaN;break}return{a,b:n,op:c,result:t}}function ie(e,r){const s=b[r%b.length],[a,c]=s.names;switch(e.op){case"+":return{story:`${a} has ${e.a} ${s.items}. ${c} gives ${a} ${e.b} more ${s.items}. How many ${s.items} does ${a} have now?`,schema:"Combining (Addition)",schemaDescription:"Two quantities are brought together into one total. We use addition to combine them.",steps:le(e.a,e.b,a,s.items),result:e.result};case"-":return{story:`${a} has ${e.a} ${s.items}. ${a} gives ${e.b} ${s.items} to ${c}. How many ${s.items} does ${a} have left?`,schema:"Taking Away (Subtraction)",schemaDescription:"We start with a total and remove some from it. We use subtraction to find what remains.",steps:ce(e.a,e.b,a,s.items),result:e.result};case"*":return{story:`There are ${e.a} ${s.containers}. Each ${s.container} has ${e.b} ${s.items} inside. How many ${s.items} are there in total?`,schema:"Equal Groups (Multiplication)",schemaDescription:"We have several groups, each the same size. To find the total, we multiply the number of groups by the size of each group.",steps:me(e.a,e.b,s.containers,s.container,s.items),result:e.result};case"/":return{story:`${a} has ${e.a} ${s.items} and wants to share them equally among ${e.b} friends. How many ${s.items} does each friend get?`,schema:"Sharing Equally (Division)",schemaDescription:"We have a total that needs to be split into equal parts. We use division to find how many each part gets.",steps:he(e.a,e.b,a,s.items),result:e.result}}}function le(e,r,s,a){const c=e+r,n=[`We know: ${s} starts with ${e} ${a}.`,`What happens: ${s} gets ${r} more ${a}.`,`Operation: This is addition, so we compute ${e} + ${r}.`];if(e>=10&&r>=10){const t=e%10,o=r%10,m=t+o,M=m>=10?1:0;M?(n.push(`Add the ones: ${t} + ${o} = ${m}. Write down ${m%10}, carry the ${M}.`),n.push(`Add the tens: ${Math.floor(e/10)} + ${Math.floor(r/10)} + ${M} = ${Math.floor(e/10)+Math.floor(r/10)+M}.`)):(n.push(`Add the ones: ${t} + ${o} = ${m}.`),n.push(`Add the tens: ${Math.floor(e/10)} + ${Math.floor(r/10)} = ${Math.floor(e/10)+Math.floor(r/10)}.`))}return n.push(`Result: ${e} + ${r} = ${c}.`),n.push(`Answer: ${s} has ${c} ${a} now.`),n}function ce(e,r,s,a){const c=e-r,n=[`We know: ${s} starts with ${e} ${a}.`,`What happens: ${s} gives away ${r} ${a}.`,`Operation: This is subtraction, so we compute ${e} - ${r}.`];if(e>=10&&r>=10){const t=e%10,o=r%10;t<o?(n.push(`The ones digit ${t} is less than ${o}, so we borrow from the tens.`),n.push(`${e} - ${r}: borrow to get ${t+10} - ${o} = ${t+10-o} in the ones place.`),n.push(`Tens place: ${Math.floor(e/10)-1} - ${Math.floor(r/10)} = ${Math.floor(e/10)-1-Math.floor(r/10)}.`)):(n.push(`Ones: ${t} - ${o} = ${t-o}.`),n.push(`Tens: ${Math.floor(e/10)} - ${Math.floor(r/10)} = ${Math.floor(e/10)-Math.floor(r/10)}.`))}return n.push(`Result: ${e} - ${r} = ${c}.`),n.push(`Answer: ${s} has ${c} ${a} left.`),n}function me(e,r,s,a,c){const n=e*r,t=[`We know: There are ${e} ${s}, each with ${r} ${c}.`,`Operation: This is multiplication, so we compute ${e} × ${r}.`];if(e<=8){const o=Array.from({length:e},(M,O)=>`${a} ${O+1} has ${r}`).join(", ");t.push(`Count each group: ${o}.`);const m=Array(e).fill(String(r)).join(" + ");t.push(`Repeated addition: ${m} = ${n}.`)}else t.push(`${e} × ${r} = ${n}.`);return t.push(`Answer: There are ${n} ${c} in total.`),t}function he(e,r,s,a){const c=e/r,n=Number.isInteger(c),t=[`We know: ${s} has ${e} ${a} to share among ${r} friends.`,`Operation: This is division, so we compute ${e} ÷ ${r}.`];if(n&&r<=8)t.push(`Think: what number times ${r} equals ${e}?`),t.push(`${r} × ${c} = ${e}. That's it!`);else if(n)t.push(`${e} ÷ ${r} = ${c}.`),t.push(`Check: ${r} × ${c} = ${e}. Correct!`);else{const m=Math.round(c*100)/100;t.push(`${e} ÷ ${r} = ${m}.`)}const o=Number.isInteger(c)?c:Math.round(c*100)/100;return t.push(`Answer: Each friend gets ${o} ${a}.`),t}function K(e){const s=b[2%b.length],[a,c]=s.names,n=Math.floor(Math.random()*8)+2;let t=e.a+n,o=e.b+Math.floor(Math.random()*5)+1;switch(e.op){case"+":{const m=t+o;return{story:`${a} has ${t} ${s.items}. ${c} gives ${a} ${o} more ${s.items}. How many ${s.items} does ${a} have now?`,steps:[{before:"What do we start with?",after:s.items,answer:String(t)},{before:`How many more does ${a} get?`,after:s.items,answer:String(o)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"+"},{before:`Solve: ${t} + ${o} =`,after:"",answer:String(m)}],finalAnswer:m}}case"-":{o>t&&(o=Math.floor(t/2));const m=t-o;return{story:`${a} has ${t} ${s.items}. ${a} gives ${o} ${s.items} to ${c}. How many ${s.items} does ${a} have left?`,steps:[{before:"What do we start with?",after:s.items,answer:String(t)},{before:`How many does ${a} give away?`,after:s.items,answer:String(o)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"-"},{before:`Solve: ${t} - ${o} =`,after:"",answer:String(m)}],finalAnswer:m}}case"*":{t=Math.min(t,12),o=Math.min(o,12);const m=t*o;return{story:`There are ${t} ${s.containers}. Each ${s.container} has ${o} ${s.items} inside. How many ${s.items} are there in total?`,steps:[{before:`How many ${s.containers}?`,after:"",answer:String(t)},{before:`How many ${s.items} in each ${s.container}?`,after:"",answer:String(o)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"×"},{before:`Solve: ${t} × ${o} =`,after:"",answer:String(m)}],finalAnswer:m}}case"/":{o=Math.max(o,2),t=o*(Math.floor(Math.random()*8)+2);const m=t/o;return{story:`${a} has ${t} ${s.items} and wants to share them equally among ${o} friends. How many ${s.items} does each friend get?`,steps:[{before:"What is the total to share?",after:s.items,answer:String(t)},{before:"How many friends to share among?",after:"",answer:String(o)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"÷"},{before:`Solve: ${t} ÷ ${o} =`,after:"",answer:String(m)}],finalAnswer:m}}}}function Q(){const e=B(l(g));e&&(isNaN(e.result)||(w($,ie(e,Math.floor(Math.random()*b.length)),!0),w(k,!0),w(x,!1),w(f,null),w(y,[],!0),w(_,!1)))}function D(e){var a;if(!l(f))return!1;const r=(a=l(y)[e])==null?void 0:a.trim(),s=l(f).steps[e].answer;return r===s}let ve=He(()=>l(_)&&l(f)?l(f).steps.every((e,r)=>D(r)):!1);var F=Ye();Ee(e=>{xe.title="Math Word Problem Calculator"});var Y=h(u(F),4),U=h(u(Y),2),R=u(U);ae(R),R.__keydown=[De,Q];var ue=h(R,2);ue.__click=Q,v(U),se(2),v(Y);var X=h(Y,2);{var $e=e=>{var r=je(),s=u(r),a=h(u(s),2),c=u(a,!0);v(a),v(s);var n=h(s,2),t=h(u(n),2),o=u(t,!0);v(t);var m=h(t,2),M=u(m,!0);v(m),v(n);var O=h(n,2),H=h(u(O),2);te(H,21,()=>l($).steps,re,(N,V)=>{var E=Ne(),G=u(E,!0);v(E),I(()=>q(G,l(V))),A(N,E)}),v(H),v(O);var C=h(O,2),S=u(C);S.__click=[ne,B,g,f,K,y,_,x],v(C),v(r),I(()=>{q(c,l($).story),q(o,l($).schema),q(M,l($).schemaDescription)}),A(e,r)};j(X,e=>{l(k)&&l($)&&e($e)})}var de=h(X,2);{var fe=e=>{var r=Fe(),s=u(r),a=h(u(s),2),c=u(a,!0);v(a);var n=h(a,4);te(n,21,()=>l(f).steps,re,(H,C,S)=>{var N=ze();let V;var E=u(N),G=u(E,!0);v(E);var z=h(E,2);ae(z);var Z=h(z,2);{var pe=p=>{var W=Ie(),be=u(W,!0);v(W),I(()=>q(be,l(C).after)),A(p,W)};j(Z,p=>{l(C).after&&p(pe)})}var ee=h(Z,2);{var we=p=>{var W=Re();A(p,W)};j(ee,p=>{l(_)&&!D(S)&&p(we)})}var ke=h(ee,2);{var _e=p=>{var W=Ve();A(p,W)};j(ke,p=>{l(_)&&D(S)&&p(_e)})}v(N),I((p,W)=>{V=Pe(N,1,"practice-step svelte-ksm4mr",null,V,p),q(G,l(C).before),z.disabled=W},[()=>({correct:l(_)&&D(S),incorrect:l(_)&&!D(S)}),()=>l(_)&&D(S)]),oe(z,()=>l(y)[S],p=>l(y)[S]=p),A(H,N)}),v(n);var t=h(n,2),o=u(t);o.__click=[qe,_];var m=h(o,2);{var M=H=>{var C=Be();A(H,C)};j(m,H=>{l(_)&&l(ve)&&H(M)})}v(t);var O=h(t,2);O.__click=[ne,B,g,f,K,y,_,x],v(s),v(r),I(()=>q(c,l(f).story)),A(e,r)};j(de,e=>{l(x)&&l(f)&&e(fe)})}se(2),v(F),oe(R,()=>l(g),e=>w(g,e)),A(i,F),Te()}Oe(["keydown","click"]);export{Xe as component};
