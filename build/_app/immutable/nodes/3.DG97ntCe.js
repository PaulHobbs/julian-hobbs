import{t as q,a as P}from"../chunks/DgIbBi7W.js";import{J as $e,K as pe,M as Ye,N as he,s as le,h as C,R as Be,O as Ge,a as Ue,b as Fe,y as $,a2 as Ke,c as ze,r as _e,d as ce,i as se,V as Je,f as xe,g as Ne,p as Qe,Z as He,L as Xe,a3 as Ze,a4 as we,a5 as ue,a6 as je,a7 as es,a8 as ss,Y as ts,a9 as rs,m as as,aa as ns,ab as os,Q as is,ac as ls,ad as cs,ae as us,af as fs,k as vs,ag as hs,B as ms,ah as z,ai as ds,F as E,t as A,D as $s,aj as H,ak as ps,G as T,q as ke,C as te,al as _s}from"../chunks/HW_ytdhY.js";import{d as ws,h as ks,s as J}from"../chunks/YxZz4Pyf.js";import{i as Z}from"../chunks/DRYq3U1m.js";let ge=!1;function Ce(){ge||(ge=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const a of e.target.elements)(t=a.__on_r)==null||t.call(a)})},{capture:!0}))}function gs(e){var t=Ye,a=he;$e(null),pe(null);try{return e()}finally{$e(t),pe(a)}}function bs(e,t,a,i=a){e.addEventListener(t,()=>gs(a));const c=e.__on_r;c?e.__on_r=()=>{c(),i(!0)}:e.__on_r=()=>i(!0),Ce()}function be(e,t){return t}function ys(e,t,a,i){for(var c=[],f=t.length,v=0;v<f;v++)ss(t[v].e,c,!0);var m=f>0&&c.length===0&&a!==null;if(m){var k=a.parentNode;ts(k),k.append(a),i.clear(),U(e,t[0].prev,t[f-1].next)}rs(c,()=>{for(var w=0;w<f;w++){var d=t[w];m||(i.delete(d.k),U(e,d.prev,d.next)),as(d.e,!m)}})}function ye(e,t,a,i,c,f=null){var v=e,m={flags:t,items:new Map,first:null};{var k=e;v=C?le(Be(k)):k.appendChild(Ge())}C&&Ue();var w=null,d=!1,W=Ke(()=>{var p=a();return Xe(p)?p:p==null?[]:He(p)});Fe(()=>{var p=$(W),M=p.length;if(d&&M===0)return;d=M===0;let y=!1;if(C){var V=v.data===ze;V!==(M===0)&&(v=_e(),le(v),ce(!1),y=!0)}if(C){for(var O=null,g,S=0;S<M;S++){if(se.nodeType===8&&se.data===Je){v=se,y=!0,ce(!1);break}var Q=p[S],I=i(Q,S);g=Oe(se,m,O,null,Q,I,S,c,t,a),m.items.set(I,g),O=g}M>0&&le(_e())}C||Ms(p,m,v,c,t,i,a),f!==null&&(M===0?w?xe(w):w=Ne(()=>f(v)):w!==null&&Qe(w,()=>{w=null})),y&&ce(!0),$(W)}),C&&(v=se)}function Ms(e,t,a,i,c,f,v){var m=e.length,k=t.items,w=t.first,d=w,W,p=null,M=[],y=[],V,O,g,S;for(S=0;S<m;S+=1){if(V=e[S],O=f(V,S),g=k.get(O),g===void 0){var Q=d?d.e.nodes_start:a;p=Oe(Q,t,p,p===null?t.first:p.next,V,O,S,i,c,v),k.set(O,p),M=[],y=[],d=p.next;continue}if(Ss(g,V,S),(g.e.f&ue)!==0&&xe(g.e),g!==d){if(W!==void 0&&W.has(g)){if(M.length<y.length){var I=y[0],N;p=I.prev;var j=M[0],Y=M[M.length-1];for(N=0;N<M.length;N+=1)Me(M[N],I,a);for(N=0;N<y.length;N+=1)W.delete(y[N]);U(t,j.prev,Y.next),U(t,p,j),U(t,Y,I),d=I,p=Y,S-=1,M=[],y=[]}else W.delete(g),Me(g,d,a),U(t,g.prev,g.next),U(t,g,p===null?t.first:p.next),U(t,p,g),p=g;continue}for(M=[],y=[];d!==null&&d.k!==O;)(d.e.f&ue)===0&&(W??(W=new Set)).add(d),y.push(d),d=d.next;if(d===null)continue;g=d}M.push(g),p=g,d=g.next}if(d!==null||W!==void 0){for(var ee=W===void 0?[]:He(W);d!==null;)(d.e.f&ue)===0&&ee.push(d),d=d.next;var re=ee.length;if(re>0){var oe=m===0?a:null;ys(t,ee,oe,k)}}he.first=t.first&&t.first.e,he.last=p&&p.e}function Ss(e,t,a,i){es(e.v,t),e.i=a}function Oe(e,t,a,i,c,f,v,m,k,w){var d=(k&ns)!==0,W=(k&os)===0,p=d?W?Ze(c):we(c):c,M=(k&je)===0?v:we(v),y={i:M,v:p,k:f,a:null,e:null,prev:a,next:i};try{return y.e=Ne(()=>m(e,p,M,w),C),y.e.prev=a&&a.e,y.e.next=i&&i.e,a===null?t.first=y:(a.next=y,a.e.next=y.e),i!==null&&(i.prev=y,i.e.prev=y.e),y}finally{}}function Me(e,t,a){for(var i=e.next?e.next.e.nodes_start:a,c=t?t.e.nodes_start:a,f=e.e.nodes_start;f!==i;){var v=is(f);c.before(f),f=v}}function U(e,t,a){t===null?e.first=a:(t.next=a,t.e.next=a&&a.e),a!==null&&(a.prev=t,a.e.prev=t&&t.e)}const Se=[...` 	
\r\f \v\uFEFF`];function As(e,t,a){var i=""+e;if(a){for(var c in a)if(a[c])i=i?i+" "+c:c;else if(i.length)for(var f=c.length,v=0;(v=i.indexOf(c,v))>=0;){var m=v+f;(v===0||Se.includes(i[v-1]))&&(m===i.length||Se.includes(i[m]))?i=(v===0?"":i.substring(0,v))+i.substring(m+1):v=m}}return i===""?null:i}function Ts(e,t,a,i,c,f){var v=e.__className;if(C||v!==a||v===void 0){var m=As(a,i,f);(!C||m!==e.getAttribute("class"))&&(m==null?e.removeAttribute("class"):e.className=m),e.__className=a}else if(f&&c!==f)for(var k in f){var w=!!f[k];(c==null||w!==!!c[k])&&e.classList.toggle(k,w)}return f}const Es=Symbol("is custom element"),Ws=Symbol("is html");function Ae(e){if(C){var t=!1,a=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var i=e.value;Te(e,"value",null),e.value=i}if(e.hasAttribute("checked")){var c=e.checked;Te(e,"checked",null),e.checked=c}}};e.__on_r=a,ls(a),Ce()}}function Te(e,t,a,i){var c=xs(e);C&&(c[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||c[t]!==(c[t]=a)&&(t==="loading"&&(e[cs]=a),e.removeAttribute(t))}function xs(e){return e.__attributes??(e.__attributes={[Es]:e.nodeName.includes("-"),[Ws]:e.namespaceURI===us})}function Ee(e,t,a=t){var i=fs();bs(e,"input",c=>{var f=c?e.defaultValue:e.value;if(f=fe(e)?ve(f):f,a(f),i&&f!==(f=t())){var v=e.selectionStart,m=e.selectionEnd;e.value=f??"",m!==null&&(e.selectionStart=v,e.selectionEnd=Math.min(m,e.value.length))}}),(C&&e.defaultValue!==e.value||vs(t)==null&&e.value)&&a(fe(e)?ve(e.value):e.value),hs(()=>{var c=t();fe(e)&&c===ve(e.value)||e.type==="date"&&!c&&!e.value||c!==e.value&&(e.value=c??"")})}function fe(e){var t=e.type;return t==="number"||t==="range"}function ve(e){return e===""?null:+e}function We(e,t,a,i,c,f,v,m){const k=t($(a));k&&(H(i,c(k),!0),H(f,$(i).steps.map(()=>""),!0),H(v,!1),H(m,!0))}function Ns(e,t){H(t,!0)}function Hs(e,t){e.key==="Enter"&&t()}var Cs=q('<li class="svelte-ksm4mr"> </li>'),Os=q('<div class="results svelte-ksm4mr"><div class="card word-problem svelte-ksm4mr"><h2 class="svelte-ksm4mr">Word Problem</h2> <p class="story svelte-ksm4mr"> </p></div> <div class="card schema svelte-ksm4mr"><h2 class="svelte-ksm4mr">Schema</h2> <p class="schema-name svelte-ksm4mr"> </p> <p class="schema-desc svelte-ksm4mr"> </p></div> <div class="card work svelte-ksm4mr"><h2 class="svelte-ksm4mr">Show Your Work</h2> <ol class="steps svelte-ksm4mr"></ol></div> <div class="practice-prompt svelte-ksm4mr"><button class="practice-btn svelte-ksm4mr">Try a Similar Problem!</button></div></div>'),Is=q('<span class="step-after svelte-ksm4mr"> </span>'),Ls=q('<span class="feedback svelte-ksm4mr">Try again! Hint: re-read the problem.</span>'),Rs=q('<span class="feedback correct-feedback svelte-ksm4mr">Correct!</span>'),Ds=q('<div><span class="step-label svelte-ksm4mr"> </span> <input type="text" class="blank-input svelte-ksm4mr" placeholder="?"> <!> <!> <!></div>'),Ps=q('<p class="congrats svelte-ksm4mr">Great job! You got them all right!</p>'),qs=q('<div class="results svelte-ksm4mr"><div class="card practice svelte-ksm4mr"><h2 class="svelte-ksm4mr">Your Turn!</h2> <p class="story svelte-ksm4mr"> </p> <h3 class="svelte-ksm4mr">Show your work — fill in the blanks:</h3> <div class="practice-steps svelte-ksm4mr"></div> <div class="check-row svelte-ksm4mr"><button class="check-btn svelte-ksm4mr">Check My Answers</button> <!></div> <button class="practice-btn svelte-ksm4mr" style="margin-top: 1rem;">Try Another One</button></div></div>'),Vs=q('<div class="calculator svelte-ksm4mr"><h1 class="svelte-ksm4mr">Math Word Problem Calculator</h1> <p class="subtitle svelte-ksm4mr">Enter an arithmetic problem and see it as a word problem!</p> <div class="input-section svelte-ksm4mr"><label for="expression" class="svelte-ksm4mr">Type a math problem:</label> <div class="input-row svelte-ksm4mr"><input id="expression" type="text" placeholder="e.g. 24 + 13, 50 - 18, 6 * 4, 20 / 5" class="svelte-ksm4mr"> <button class="solve-btn svelte-ksm4mr">Solve</button></div> <p class="hint svelte-ksm4mr">Use +, -, *, / (or ×, ÷)</p></div> <!> <!> <div class="back-link svelte-ksm4mr"><a href="/" class="svelte-ksm4mr">Back to Home</a></div></div>');function Fs(e,t){ms(t,!0);const a=[{items:"apples",container:"basket",containers:"baskets",names:["Emma","Liam"]},{items:"marbles",container:"bag",containers:"bags",names:["Sofia","Noah"]},{items:"stickers",container:"pack",containers:"packs",names:["Julian","Maya"]},{items:"cookies",container:"jar",containers:"jars",names:["Olivia","Ethan"]}];let i=z(""),c=z(!1),f=z(null),v=z(!1),m=z(null),k=z(ds([])),w=z(!1);function d(s){const r=s.trim().replace(/×/g,"*").replace(/÷/g,"/").replace(/x/gi,"*").match(/^(\d+(?:\.\d+)?)\s*([+\-*/])\s*(\d+(?:\.\d+)?)$/);if(!r)return null;const l=parseFloat(r[1]),_=r[2],h=parseFloat(r[3]);let n;switch(_){case"+":n=l+h;break;case"-":n=l-h;break;case"*":n=l*h;break;case"/":n=h!==0?l/h:NaN;break}return{a:l,b:h,op:_,result:n}}function W(s,o){const r=a[o%a.length],[l,_]=r.names;switch(s.op){case"+":return{story:`${l} has ${s.a} ${r.items}. ${_} gives ${l} ${s.b} more ${r.items}. How many ${r.items} does ${l} have now?`,schema:"Combining (Addition)",schemaDescription:"Two quantities are brought together into one total. We use addition to combine them.",steps:p(s.a,s.b,l,r.items),result:s.result};case"-":return{story:`${l} has ${s.a} ${r.items}. ${l} gives ${s.b} ${r.items} to ${_}. How many ${r.items} does ${l} have left?`,schema:"Taking Away (Subtraction)",schemaDescription:"We start with a total and remove some from it. We use subtraction to find what remains.",steps:M(s.a,s.b,l,r.items),result:s.result};case"*":return{story:`There are ${s.a} ${r.containers}. Each ${r.container} has ${s.b} ${r.items} inside. How many ${r.items} are there in total?`,schema:"Equal Groups (Multiplication)",schemaDescription:"We have several groups, each the same size. To find the total, we multiply the number of groups by the size of each group.",steps:y(s.a,s.b,r.containers,r.container,r.items),result:s.result};case"/":return{story:`${l} has ${s.a} ${r.items} and wants to share them equally among ${s.b} friends. How many ${r.items} does each friend get?`,schema:"Sharing Equally (Division)",schemaDescription:"We have a total that needs to be split into equal parts. We use division to find how many each part gets.",steps:V(s.a,s.b,l,r.items),result:s.result}}}function p(s,o,r,l){const _=s+o,h=[`We know: ${r} starts with ${s} ${l}.`,`What happens: ${r} gets ${o} more ${l}.`,`Operation: This is addition, so we compute ${s} + ${o}.`];if(s>=10&&o>=10){const n=s%10,u=o%10,b=n+u,L=b>=10?1:0;L?(h.push(`Add the ones: ${n} + ${u} = ${b}. Write down ${b%10}, carry the ${L}.`),h.push(`Add the tens: ${Math.floor(s/10)} + ${Math.floor(o/10)} + ${L} = ${Math.floor(s/10)+Math.floor(o/10)+L}.`)):(h.push(`Add the ones: ${n} + ${u} = ${b}.`),h.push(`Add the tens: ${Math.floor(s/10)} + ${Math.floor(o/10)} = ${Math.floor(s/10)+Math.floor(o/10)}.`))}return h.push(`Result: ${s} + ${o} = ${_}.`),h.push(`Answer: ${r} has ${_} ${l} now.`),h}function M(s,o,r,l){const _=s-o,h=[`We know: ${r} starts with ${s} ${l}.`,`What happens: ${r} gives away ${o} ${l}.`,`Operation: This is subtraction, so we compute ${s} - ${o}.`];if(s>=10&&o>=10){const n=s%10,u=o%10;n<u?(h.push(`The ones digit ${n} is less than ${u}, so we borrow from the tens.`),h.push(`${s} - ${o}: borrow to get ${n+10} - ${u} = ${n+10-u} in the ones place.`),h.push(`Tens place: ${Math.floor(s/10)-1} - ${Math.floor(o/10)} = ${Math.floor(s/10)-1-Math.floor(o/10)}.`)):(h.push(`Ones: ${n} - ${u} = ${n-u}.`),h.push(`Tens: ${Math.floor(s/10)} - ${Math.floor(o/10)} = ${Math.floor(s/10)-Math.floor(o/10)}.`))}return h.push(`Result: ${s} - ${o} = ${_}.`),h.push(`Answer: ${r} has ${_} ${l} left.`),h}function y(s,o,r,l,_){const h=s*o,n=[`We know: There are ${s} ${r}, each with ${o} ${_}.`,`Operation: This is multiplication, so we compute ${s} × ${o}.`];if(s<=8){const u=Array.from({length:s},(L,F)=>`${l} ${F+1} has ${o}`).join(", ");n.push(`Count each group: ${u}.`);const b=Array(s).fill(String(o)).join(" + ");n.push(`Repeated addition: ${b} = ${h}.`)}else n.push(`${s} × ${o} = ${h}.`);return n.push(`Answer: There are ${h} ${_} in total.`),n}function V(s,o,r,l){const _=s/o,h=Number.isInteger(_),n=[`We know: ${r} has ${s} ${l} to share among ${o} friends.`,`Operation: This is division, so we compute ${s} ÷ ${o}.`];if(h&&o<=8)n.push(`Think: what number times ${o} equals ${s}?`),n.push(`${o} × ${_} = ${s}. That's it!`);else if(h)n.push(`${s} ÷ ${o} = ${_}.`),n.push(`Check: ${o} × ${_} = ${s}. Correct!`);else{const b=Math.round(_*100)/100;n.push(`${s} ÷ ${o} = ${b}.`)}const u=Number.isInteger(_)?_:Math.round(_*100)/100;return n.push(`Answer: Each friend gets ${u} ${l}.`),n}function O(s){const r=a[2%a.length],[l,_]=r.names,h=Math.floor(Math.random()*8)+2;let n=s.a+h,u=s.b+Math.floor(Math.random()*5)+1;switch(s.op){case"+":{const b=n+u;return{story:`${l} has ${n} ${r.items}. ${_} gives ${l} ${u} more ${r.items}. How many ${r.items} does ${l} have now?`,steps:[{before:"What do we start with?",after:r.items,answer:String(n)},{before:`How many more does ${l} get?`,after:r.items,answer:String(u)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"+"},{before:`Solve: ${n} + ${u} =`,after:"",answer:String(b)}],finalAnswer:b}}case"-":{u>n&&(u=Math.floor(n/2));const b=n-u;return{story:`${l} has ${n} ${r.items}. ${l} gives ${u} ${r.items} to ${_}. How many ${r.items} does ${l} have left?`,steps:[{before:"What do we start with?",after:r.items,answer:String(n)},{before:`How many does ${l} give away?`,after:r.items,answer:String(u)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"-"},{before:`Solve: ${n} - ${u} =`,after:"",answer:String(b)}],finalAnswer:b}}case"*":{n=Math.min(n,12),u=Math.min(u,12);const b=n*u;return{story:`There are ${n} ${r.containers}. Each ${r.container} has ${u} ${r.items} inside. How many ${r.items} are there in total?`,steps:[{before:`How many ${r.containers}?`,after:"",answer:String(n)},{before:`How many ${r.items} in each ${r.container}?`,after:"",answer:String(u)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"×"},{before:`Solve: ${n} × ${u} =`,after:"",answer:String(b)}],finalAnswer:b}}case"/":{u=Math.max(u,2),n=u*(Math.floor(Math.random()*8)+2);const b=n/u;return{story:`${l} has ${n} ${r.items} and wants to share them equally among ${u} friends. How many ${r.items} does each friend get?`,steps:[{before:"What is the total to share?",after:r.items,answer:String(n)},{before:"How many friends to share among?",after:"",answer:String(u)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"÷"},{before:`Solve: ${n} ÷ ${u} =`,after:"",answer:String(b)}],finalAnswer:b}}}}function g(){const s=d($(i));s&&(isNaN(s.result)||(H(f,W(s,Math.floor(Math.random()*a.length)),!0),H(c,!0),H(v,!1),H(m,null),H(k,[],!0),H(w,!1)))}function S(s){var l;if(!$(m))return!1;const o=(l=$(k)[s])==null?void 0:l.trim(),r=$(m).steps[s].answer;return o===r}let Q=_s(()=>$(w)&&$(m)?$(m).steps.every((s,o)=>S(o)):!1);var I=Vs();ks(s=>{ps.title="Math Word Problem Calculator"});var N=A(E(I),4),j=A(E(N),2),Y=E(j);Ae(Y),Y.__keydown=[Hs,g];var ee=A(Y,2);ee.__click=g,T(j),ke(2),T(N);var re=A(N,2);{var oe=s=>{var o=Os(),r=E(o),l=A(E(r),2),_=E(l,!0);T(l),T(r);var h=A(r,2),n=A(E(h),2),u=E(n,!0);T(n);var b=A(n,2),L=E(b,!0);T(b),T(h);var F=A(h,2),B=A(E(F),2);ye(B,21,()=>$(f).steps,be,(X,ae)=>{var K=Cs(),ie=E(K,!0);T(K),te(()=>J(ie,$(ae))),P(X,K)}),T(B),T(F);var G=A(F,2),R=E(G);R.__click=[We,d,i,m,O,k,w,v],T(G),T(o),te(()=>{J(_,$(f).story),J(u,$(f).schema),J(L,$(f).schemaDescription)}),P(s,o)};Z(re,s=>{$(c)&&$(f)&&s(oe)})}var Ie=A(re,2);{var Le=s=>{var o=qs(),r=E(o),l=A(E(r),2),_=E(l,!0);T(l);var h=A(l,4);ye(h,21,()=>$(m).steps,be,(B,G,R)=>{var X=Ds();let ae;var K=E(X),ie=E(K,!0);T(K);var ne=A(K,2);Ae(ne);var me=A(ne,2);{var Re=x=>{var D=Is(),Ve=E(D,!0);T(D),te(()=>J(Ve,$(G).after)),P(x,D)};Z(me,x=>{$(G).after&&x(Re)})}var de=A(me,2);{var De=x=>{var D=Ls();P(x,D)};Z(de,x=>{$(w)&&!S(R)&&x(De)})}var Pe=A(de,2);{var qe=x=>{var D=Rs();P(x,D)};Z(Pe,x=>{$(w)&&S(R)&&x(qe)})}T(X),te((x,D)=>{ae=Ts(X,1,"practice-step svelte-ksm4mr",null,ae,x),J(ie,$(G).before),ne.disabled=D},[()=>({correct:$(w)&&S(R),incorrect:$(w)&&!S(R)}),()=>$(w)&&S(R)]),Ee(ne,()=>$(k)[R],x=>$(k)[R]=x),P(B,X)}),T(h);var n=A(h,2),u=E(n);u.__click=[Ns,w];var b=A(u,2);{var L=B=>{var G=Ps();P(B,G)};Z(b,B=>{$(w)&&$(Q)&&B(L)})}T(n);var F=A(n,2);F.__click=[We,d,i,m,O,k,w,v],T(r),T(o),te(()=>J(_,$(m).story)),P(s,o)};Z(Ie,s=>{$(v)&&$(m)&&s(Le)})}ke(2),T(I),Ee(Y,()=>$(i),s=>H(i,s)),P(e,I),$s()}ws(["keydown","click"]);export{Fs as component};
