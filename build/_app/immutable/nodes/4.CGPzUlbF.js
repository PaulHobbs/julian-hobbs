import{t as W,a as T}from"../chunks/BJnBH3cn.js";import{h as J,aa as Me,ab as Se,ac as Ae,ad as Te,u as We,r as xe,y as Ee,z as N,A as He,G as d,x as v,D as l,C as Oe,F as b,$ as Ce,I as u,w as te,B as L,J as Ne}from"../chunks/q4hbtsPX.js";import{a as Ie,l as Pe,d as qe,h as De,s as I}from"../chunks/CLj1pCBc.js";import{i as D}from"../chunks/BxUkMfeN.js";import{e as re,i as ae,s as Le}from"../chunks/C7K76AnF.js";const Re=Symbol("is custom element"),je=Symbol("is html");function oe(r){if(J){var m=!1,f=()=>{if(!m){if(m=!0,r.hasAttribute("value")){var k=r.value;ne(r,"value",null),r.value=k}if(r.hasAttribute("checked")){var $=r.checked;ne(r,"checked",null),r.checked=$}}};r.__on_r=f,Me(f),Ie()}}function ne(r,m,f,k){var $=Be(r);J&&($[m]=r.getAttribute(m),m==="src"||m==="srcset"||m==="href"&&r.nodeName==="LINK")||$[m]!==($[m]=f)&&(m==="loading"&&(r[Se]=f),r.removeAttribute(m))}function Be(r){return r.__attributes??(r.__attributes={[Re]:r.nodeName.includes("-"),[je]:r.namespaceURI===Ae})}function ie(r,m,f=m){var k=Te();Pe(r,"input",$=>{var p=$?r.defaultValue:r.value;if(p=F(r)?U(p):p,f(p),k&&p!==(p=m())){var x=r.selectionStart,w=r.selectionEnd;r.value=p??"",w!==null&&(r.selectionStart=x,r.selectionEnd=Math.min(w,r.value.length))}}),(J&&r.defaultValue!==r.value||We(m)==null&&r.value)&&f(F(r)?U(r.value):r.value),xe(()=>{var $=m();F(r)&&$===U(r.value)||r.type==="date"&&!$&&!r.value||$!==r.value&&(r.value=$??"")})}function F(r){var m=r.type;return m==="number"||m==="range"}function U(r){return r===""?null:+r}function le(r,m,f,k,$,p,x,w){const y=m(l(f));y&&(b(k,$(y),!0),b(p,l(k).steps.map(()=>""),!0),b(x,!1),b(w,!0))}function Ge(r,m){b(m,!0)}function Ve(r,m){r.key==="Enter"&&m()}var Ye=W('<li class="svelte-ksm4mr"> </li>'),ze=W('<div class="results svelte-ksm4mr"><div class="card word-problem svelte-ksm4mr"><h2 class="svelte-ksm4mr">Word Problem</h2> <p class="story svelte-ksm4mr"> </p></div> <div class="card schema svelte-ksm4mr"><h2 class="svelte-ksm4mr">Schema</h2> <p class="schema-name svelte-ksm4mr"> </p> <p class="schema-desc svelte-ksm4mr"> </p></div> <div class="card work svelte-ksm4mr"><h2 class="svelte-ksm4mr">Show Your Work</h2> <ol class="steps svelte-ksm4mr"></ol></div> <div class="practice-prompt svelte-ksm4mr"><button class="practice-btn svelte-ksm4mr">Try a Similar Problem!</button></div></div>'),Fe=W('<span class="step-after svelte-ksm4mr"> </span>'),Ue=W('<span class="feedback svelte-ksm4mr">Try again! Hint: re-read the problem.</span>'),Je=W('<span class="feedback correct-feedback svelte-ksm4mr">Correct!</span>'),Ke=W('<div><span class="step-label svelte-ksm4mr"> </span> <input type="text" class="blank-input svelte-ksm4mr" placeholder="?"> <!> <!> <!></div>'),Qe=W('<p class="congrats svelte-ksm4mr">Great job! You got them all right!</p>'),Xe=W('<div class="results svelte-ksm4mr"><div class="card practice svelte-ksm4mr"><h2 class="svelte-ksm4mr">Your Turn!</h2> <p class="story svelte-ksm4mr"> </p> <h3 class="svelte-ksm4mr">Show your work — fill in the blanks:</h3> <div class="practice-steps svelte-ksm4mr"></div> <div class="check-row svelte-ksm4mr"><button class="check-btn svelte-ksm4mr">Check My Answers</button> <!></div> <button class="practice-btn svelte-ksm4mr" style="margin-top: 1rem;">Try Another One</button></div></div>'),Ze=W('<div class="calculator svelte-ksm4mr"><h1 class="svelte-ksm4mr">Math Word Problem Calculator</h1> <p class="subtitle svelte-ksm4mr">Enter an arithmetic problem and see it as a word problem!</p> <div class="input-section svelte-ksm4mr"><label for="expression" class="svelte-ksm4mr">Type a math problem:</label> <div class="input-row svelte-ksm4mr"><input id="expression" type="text" placeholder="e.g. 24 + 13, 50 - 18, 6 * 4, 20 / 5" class="svelte-ksm4mr"> <button class="solve-btn svelte-ksm4mr">Solve</button></div> <p class="hint svelte-ksm4mr">Use +, -, *, / (or ×, ÷)</p></div> <!> <!> <div class="back-link svelte-ksm4mr"><a href="/" class="svelte-ksm4mr">Back to Home</a></div></div>');function os(r,m){Ee(m,!0);const f=[{items:"apples",container:"basket",containers:"baskets",names:["Emma","Liam"]},{items:"marbles",container:"bag",containers:"bags",names:["Sofia","Noah"]},{items:"stickers",container:"pack",containers:"packs",names:["Julian","Maya"]},{items:"cookies",container:"jar",containers:"jars",names:["Olivia","Ethan"]}];let k=N(""),$=N(!1),p=N(null),x=N(!1),w=N(null),y=N(He([])),g=N(!1);function G(e){const s=e.trim().replace(/×/g,"*").replace(/÷/g,"/").replace(/x/gi,"*").match(/^(\d+(?:\.\d+)?)\s*([+\-*/])\s*(\d+(?:\.\d+)?)$/);if(!s)return null;const o=parseFloat(s[1]),c=s[2],i=parseFloat(s[3]);let t;switch(c){case"+":t=o+i;break;case"-":t=o-i;break;case"*":t=o*i;break;case"/":t=i!==0?o/i:NaN;break}return{a:o,b:i,op:c,result:t}}function ce(e,a){const s=f[a%f.length],[o,c]=s.names;switch(e.op){case"+":return{story:`${o} has ${e.a} ${s.items}. ${c} gives ${o} ${e.b} more ${s.items}. How many ${s.items} does ${o} have now?`,schema:"Combining (Addition)",schemaDescription:"Two quantities are brought together into one total. We use addition to combine them.",steps:me(e.a,e.b,o,s.items),result:e.result};case"-":return{story:`${o} has ${e.a} ${s.items}. ${o} gives ${e.b} ${s.items} to ${c}. How many ${s.items} does ${o} have left?`,schema:"Taking Away (Subtraction)",schemaDescription:"We start with a total and remove some from it. We use subtraction to find what remains.",steps:he(e.a,e.b,o,s.items),result:e.result};case"*":return{story:`There are ${e.a} ${s.containers}. Each ${s.container} has ${e.b} ${s.items} inside. How many ${s.items} are there in total?`,schema:"Equal Groups (Multiplication)",schemaDescription:"We have several groups, each the same size. To find the total, we multiply the number of groups by the size of each group.",steps:ve(e.a,e.b,s.containers,s.container,s.items),result:e.result};case"/":return{story:`${o} has ${e.a} ${s.items} and wants to share them equally among ${e.b} friends. How many ${s.items} does each friend get?`,schema:"Sharing Equally (Division)",schemaDescription:"We have a total that needs to be split into equal parts. We use division to find how many each part gets.",steps:ue(e.a,e.b,o,s.items),result:e.result}}}function me(e,a,s,o){const c=e+a,i=[`We know: ${s} starts with ${e} ${o}.`,`What happens: ${s} gets ${a} more ${o}.`,`Operation: This is addition, so we compute ${e} + ${a}.`];if(e>=10&&a>=10){const t=e%10,n=a%10,h=t+n,M=h>=10?1:0;M?(i.push(`Add the ones: ${t} + ${n} = ${h}. Write down ${h%10}, carry the ${M}.`),i.push(`Add the tens: ${Math.floor(e/10)} + ${Math.floor(a/10)} + ${M} = ${Math.floor(e/10)+Math.floor(a/10)+M}.`)):(i.push(`Add the ones: ${t} + ${n} = ${h}.`),i.push(`Add the tens: ${Math.floor(e/10)} + ${Math.floor(a/10)} = ${Math.floor(e/10)+Math.floor(a/10)}.`))}return i.push(`Result: ${e} + ${a} = ${c}.`),i.push(`Answer: ${s} has ${c} ${o} now.`),i}function he(e,a,s,o){const c=e-a,i=[`We know: ${s} starts with ${e} ${o}.`,`What happens: ${s} gives away ${a} ${o}.`,`Operation: This is subtraction, so we compute ${e} - ${a}.`];if(e>=10&&a>=10){const t=e%10,n=a%10;t<n?(i.push(`The ones digit ${t} is less than ${n}, so we borrow from the tens.`),i.push(`${e} - ${a}: borrow to get ${t+10} - ${n} = ${t+10-n} in the ones place.`),i.push(`Tens place: ${Math.floor(e/10)-1} - ${Math.floor(a/10)} = ${Math.floor(e/10)-1-Math.floor(a/10)}.`)):(i.push(`Ones: ${t} - ${n} = ${t-n}.`),i.push(`Tens: ${Math.floor(e/10)} - ${Math.floor(a/10)} = ${Math.floor(e/10)-Math.floor(a/10)}.`))}return i.push(`Result: ${e} - ${a} = ${c}.`),i.push(`Answer: ${s} has ${c} ${o} left.`),i}function ve(e,a,s,o,c){const i=e*a,t=[`We know: There are ${e} ${s}, each with ${a} ${c}.`,`Operation: This is multiplication, so we compute ${e} × ${a}.`];if(e<=8){const n=Array.from({length:e},(M,O)=>`${o} ${O+1} has ${a}`).join(", ");t.push(`Count each group: ${n}.`);const h=Array(e).fill(String(a)).join(" + ");t.push(`Repeated addition: ${h} = ${i}.`)}else t.push(`${e} × ${a} = ${i}.`);return t.push(`Answer: There are ${i} ${c} in total.`),t}function ue(e,a,s,o){const c=e/a,i=Number.isInteger(c),t=[`We know: ${s} has ${e} ${o} to share among ${a} friends.`,`Operation: This is division, so we compute ${e} ÷ ${a}.`];if(i&&a<=8)t.push(`Think: what number times ${a} equals ${e}?`),t.push(`${a} × ${c} = ${e}. That's it!`);else if(i)t.push(`${e} ÷ ${a} = ${c}.`),t.push(`Check: ${a} × ${c} = ${e}. Correct!`);else{const h=Math.round(c*100)/100;t.push(`${e} ÷ ${a} = ${h}.`)}const n=Number.isInteger(c)?c:Math.round(c*100)/100;return t.push(`Answer: Each friend gets ${n} ${o}.`),t}function K(e){const s=f[2%f.length],[o,c]=s.names,i=Math.floor(Math.random()*8)+2;let t=e.a+i,n=e.b+Math.floor(Math.random()*5)+1;switch(e.op){case"+":{const h=t+n;return{story:`${o} has ${t} ${s.items}. ${c} gives ${o} ${n} more ${s.items}. How many ${s.items} does ${o} have now?`,steps:[{before:"What do we start with?",after:s.items,answer:String(t)},{before:`How many more does ${o} get?`,after:s.items,answer:String(n)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"+"},{before:`Solve: ${t} + ${n} =`,after:"",answer:String(h)}],finalAnswer:h}}case"-":{n>t&&(n=Math.floor(t/2));const h=t-n;return{story:`${o} has ${t} ${s.items}. ${o} gives ${n} ${s.items} to ${c}. How many ${s.items} does ${o} have left?`,steps:[{before:"What do we start with?",after:s.items,answer:String(t)},{before:`How many does ${o} give away?`,after:s.items,answer:String(n)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"-"},{before:`Solve: ${t} - ${n} =`,after:"",answer:String(h)}],finalAnswer:h}}case"*":{t=Math.min(t,12),n=Math.min(n,12);const h=t*n;return{story:`There are ${t} ${s.containers}. Each ${s.container} has ${n} ${s.items} inside. How many ${s.items} are there in total?`,steps:[{before:`How many ${s.containers}?`,after:"",answer:String(t)},{before:`How many ${s.items} in each ${s.container}?`,after:"",answer:String(n)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"×"},{before:`Solve: ${t} × ${n} =`,after:"",answer:String(h)}],finalAnswer:h}}case"/":{n=Math.max(n,2),t=n*(Math.floor(Math.random()*8)+2);const h=t/n;return{story:`${o} has ${t} ${s.items} and wants to share them equally among ${n} friends. How many ${s.items} does each friend get?`,steps:[{before:"What is the total to share?",after:s.items,answer:String(t)},{before:"How many friends to share among?",after:"",answer:String(n)},{before:"What operation do we use?",after:"(write + - × or ÷)",answer:"÷"},{before:`Solve: ${t} ÷ ${n} =`,after:"",answer:String(h)}],finalAnswer:h}}}}function Q(){const e=G(l(k));e&&(isNaN(e.result)||(b(p,ce(e,Math.floor(Math.random()*f.length)),!0),b($,!0),b(x,!1),b(w,null),b(y,[],!0),b(g,!1)))}function P(e){var o;if(!l(w))return!1;const a=(o=l(y)[e])==null?void 0:o.trim(),s=l(w).steps[e].answer;return a===s}let de=Ne(()=>l(g)&&l(w)?l(w).steps.every((e,a)=>P(a)):!1);var V=Ze();De(e=>{Ce.title="Math Word Problem Calculator"});var Y=v(d(V),4),X=v(d(Y),2),R=d(X);oe(R),R.__keydown=[Ve,Q];var $e=v(R,2);$e.__click=Q,u(X),te(2),u(Y);var Z=v(Y,2);{var fe=e=>{var a=ze(),s=d(a),o=v(d(s),2),c=d(o,!0);u(o),u(s);var i=v(s,2),t=v(d(i),2),n=d(t,!0);u(t);var h=v(t,2),M=d(h,!0);u(h),u(i);var O=v(i,2),E=v(d(O),2);re(E,21,()=>l(p).steps,ae,(q,j)=>{var C=Ye(),z=d(C,!0);u(C),L(()=>I(z,l(j))),T(q,C)}),u(E),u(O);var H=v(O,2),S=d(H);S.__click=[le,G,k,w,K,y,g,x],u(H),u(a),L(()=>{I(c,l(p).story),I(n,l(p).schema),I(M,l(p).schemaDescription)}),T(e,a)};D(Z,e=>{l($)&&l(p)&&e(fe)})}var pe=v(Z,2);{var we=e=>{var a=Xe(),s=d(a),o=v(d(s),2),c=d(o,!0);u(o);var i=v(o,4);re(i,21,()=>l(w).steps,ae,(E,H,S)=>{var q=Ke();let j;var C=d(q),z=d(C,!0);u(C);var B=v(C,2);oe(B);var ee=v(B,2);{var _e=_=>{var A=Fe(),ye=d(A,!0);u(A),L(()=>I(ye,l(H).after)),T(_,A)};D(ee,_=>{l(H).after&&_(_e)})}var se=v(ee,2);{var ke=_=>{var A=Ue();T(_,A)};D(se,_=>{l(g)&&!P(S)&&_(ke)})}var be=v(se,2);{var ge=_=>{var A=Je();T(_,A)};D(be,_=>{l(g)&&P(S)&&_(ge)})}u(q),L((_,A)=>{j=Le(q,1,"practice-step svelte-ksm4mr",null,j,_),I(z,l(H).before),B.disabled=A},[()=>({correct:l(g)&&P(S),incorrect:l(g)&&!P(S)}),()=>l(g)&&P(S)]),ie(B,()=>l(y)[S],_=>l(y)[S]=_),T(E,q)}),u(i);var t=v(i,2),n=d(t);n.__click=[Ge,g];var h=v(n,2);{var M=E=>{var H=Qe();T(E,H)};D(h,E=>{l(g)&&l(de)&&E(M)})}u(t);var O=v(t,2);O.__click=[le,G,k,w,K,y,g,x],u(s),u(a),L(()=>I(c,l(w).story)),T(e,a)};D(pe,e=>{l(x)&&l(w)&&e(we)})}te(2),u(V),ie(R,()=>l(k),e=>b(k,e)),T(r,V),Oe()}qe(["keydown","click"]);export{os as component};
